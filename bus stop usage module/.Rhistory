"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T', hour, substring(as.character(Sys.time()), 14, 19), '772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
queries[1]
queryList$inser(queries[[1]])
queryList$insert(queries[[1]])
queryList$find()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i))
} else {
hour <- as.character(i)
}
for (j in 1:60) {
for (k in 1:returns[j]) {
query <- c(
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
queries[1]
substring(as.character(Sys.time()), 14, 19)
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
queryList <- mongo(db = "local", collection = "queryList")
set.seed(123)
returns <- rnorm(1:60, mean = 4, sd= 1.5)
returns <- c(round(returns))
queries <- list()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i))
} else {
hour <- as.character(i)
}
for (j in 1:60) {
for (k in 1:returns[j]) {
query <- c(
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
tail(queries,1)
queryList$find(queries[[1]])
queryList$insert(queries[[1]])
queryList$find()
queries[[1]]
Sys.time()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
for (j in 1:60) {
for (k in 1:returns[j]) {
query <- c(
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
tail(queries,1)
queryList$insert(queries[[1]])
runApp()
library(mc2d)
a<-rnorm(100, 200 , 3)
a
b<-rnorm(100,50,3)
b
Sys.time()
substring(as.character(Sys.time()), 0, 10)
returns <- rnorm(60, mean = 4, sd= 1.5)
returns
for (i in 1:23) {
print(i-7)
}
for (i in 7:23) {
print(i-7)
}
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200)
hourly[0]
hourly[1]
hourly[6]
hourly[16]
hourly[15]
23-6
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
hourly[16]
substring(as.character(Sys.time()), 14, 19)
Sys.time()
library(mc2d)
queryList <- mongo(db = "local", collection = "queryList")
set.seed(123)
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
queries <- list()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)
for (j in 1:60) {
for (k in 1:minutess[j]) {
query <- c(
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "', substring(as.character(Sys.time()), 0, 8), day, 'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A2",
"sourceBusStop" : "COM2",
"destinationBusStop" : "Opp_Kent_Ridge_MRT",
"timestamp" : {"$date": "', substring(as.character(Sys.time()), 0, 8), day, 'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "', substring(as.character(Sys.time()), 0, 8), day, 'T', hour, substring(as.character(Sys.time()), 14, 19), '.772Z', '"}
}')
)
queries[length(queries)+1] <- query
}
}
}
substring(as.character(Sys.time()), 0, 10)
substring(as.character(Sys.time()), 12, 19)
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T',hour,substring(as.character(Sys.time()), 14, 19), '.Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T',hour,substring(as.character(Sys.time()), 14, 19), '.Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
queries <- list()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T',hour,substring(as.character(Sys.time()), 14, 19), '.Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
print(minutes)
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T',hour,substring(as.character(Sys.time()), 14, 19), '.Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
queries <- list()
for (i in 7:23) {
if (nchar(as.character(i)) == 1) {
hour <- paste0("0",as.character(i-8))
} else {
hour <- as.character(i-8)
}
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
print(minutes)
for (j in 1:60) {
for (k in 1:minutes[j]) {
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',substring(as.character(Sys.time()), 0, 10),'T',hour,substring(as.character(Sys.time()), 14, 19), '.772Z','"}
}')
)
queries[length(queries)+1] <- query
}
}
}
queries
time<-Sys.time()
time
queryList$insert(c(paste0('{"timestamp": {"$date":"', time,'"}}')))
time
substring(as.character(Sys.time()), 0, 19)
install.packages('lubridate')
library(lubridate)
time
hour(time)
hour(time) <- 7
time
minute(time)
queryList <- mongo(db = "local", collection = "queryList")
set.seed(123)
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
queries <- list()
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
time <- Sys.time()
hour(time) <- i
minute(time) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'"}}'
)
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'"}}'
)
)
queries[length(queries)+1] <- query
}
}
}
library(mc2d)
library(lubridate)
queryList <- mongo(db = "local", collection = "queryList")
set.seed(123)
hourly <- c(500,550,700,950,1000,1200,950,800,650,500,450,400,350,300,200,100)
queries <- list()
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'"}}'
)
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'"}}'
)
)
queries[length(queries)+1] <- query
}
}
}
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'"}}'
)
)
queries[length(queries)+1] <- query
}
print(length(queries))
}
}
queries
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'.772Z"}}'
)
)
queries[length(queries)+1] <- query
}
print(length(queries))
}
}
queries <- list()
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
for (j in 1:60) {
for (k in 1:minutes[j]) {
date <- Sys.time()
hour(date) <- i
minute(date) <- j
query <- c(
paste0('{
"bus" : "A1",
"sourceBusStop" : "KentRidgeMRT",
"destinationBusStop" : "PGPR",
"timestamp" : {"$date": "',date,'.772Z"}}'
)
)
queries[length(queries)+1] <- query
}
print(length(queries))
}
}
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
#for (j in 1:60) {
#  for (k in 1:minutes[j]) {
#    date <- Sys.time()
#   hour(date) <- i
#   minute(date) <- j
#
#    query <- c(
#      paste0('{
#            "bus" : "A1",
#             "sourceBusStop" : "KentRidgeMRT",
#             "destinationBusStop" : "PGPR",
#            "timestamp" : {"$date": "',date,'.772Z"}}'
#      )
#    )
#    queries[length(queries)+1] <- query
#  }
#  print(length(queries))
#}
print(length(minutes))
}
print(minutes)
for (i in 7:23) {
minutes <- c(round(rnorm(hourly[i-6], 5, 1.5)))
#for (j in 1:60) {
#  for (k in 1:minutes[j]) {
#    date <- Sys.time()
#   hour(date) <- i
#   minute(date) <- j
#
#    query <- c(
#      paste0('{
#            "bus" : "A1",
#             "sourceBusStop" : "KentRidgeMRT",
#             "destinationBusStop" : "PGPR",
#            "timestamp" : {"$date": "',date,'.772Z"}}'
#      )
#    )
#    queries[length(queries)+1] <- query
#  }
#  print(length(queries))
#}
print(minutes)
}
rlnorm(n, meanlog = 0, sdlog = 1)
rlnorm(200, meanlog = 0, sdlog = 1)
hist(a)
a<-rlnorm(200, meanlog = 0, sdlog = 1)
hist(a)
